<?xml version="1.0" encoding="utf-8" ?>
<Project>
  <Target
        Name="AddRsgImplicitPackageReferences"
        BeforeTargets="CollectPackageReferences"
        Condition="'$(ManagePackageVersionsCentrally)' == 'true' and '$(ImplicitPackageReferences)' == 'true'"
    >
    <PropertyGroup>
      <_rsgPackageReferenceList>@(PackageReference)</_rsgPackageReferenceList>
      <_rsgPackageVersionList>@(PackageVersion)</_rsgPackageVersionList>
    </PropertyGroup>
    <ItemGroup
            Condition="'$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingMoq)' == 'true' and $(_rsgPackageReferenceList.Contains('Moq')) and !$(_rsgPackageReferenceList.Contains('Rocket.Surgery.Extensions.Testing.Moq'))"
        >
      <PackageReference Include="Rocket.Surgery.Extensions.Testing.Moq" />
    </ItemGroup>
    <ItemGroup
            Condition="'$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingFakeItEasy)' == 'true' and $(_rsgPackageReferenceList.Contains('FakeItEasy')) and !$(_rsgPackageReferenceList.Contains('Rocket.Surgery.Extensions.Testing.FakeItEasy'))"
        >
      <PackageReference Include="Rocket.Surgery.Extensions.Testing.FakeItEasy" />
    </ItemGroup>
    <ItemGroup
            Condition="'$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingNSubstitute)' == 'true' and $(_rsgPackageReferenceList.Contains('NSubstitute')) and !$(_rsgPackageReferenceList.Contains('Rocket.Surgery.Extensions.Testing.NSubstitute'))"
        >
      <PackageReference Include="Rocket.Surgery.Extensions.Testing.NSubstitute" />
    </ItemGroup>
    <ItemGroup
            Condition="'$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingXUnit)' == 'true' and $(_rsgPackageReferenceList.Contains('xunit.abstractions')) and !$(_rsgPackageReferenceList.Contains('Rocket.Surgery.Extensions.Testing.XUnit'))"
        >
      <PackageReference Include="Rocket.Surgery.Extensions.Testing.XUnit" />
    </ItemGroup>
    <ItemGroup
            Condition="'$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingXUnit)' == 'true' and $(_rsgPackageReferenceList.Contains('xunit')) and !$(_rsgPackageReferenceList.Contains('Rocket.Surgery.Extensions.Testing.XUnit'))"
        >
      <PackageReference Include="Rocket.Surgery.Extensions.Testing.XUnit" />
    </ItemGroup>
  </Target>
  <Target
        Name="AddRsgImplicitCentralPackageVersions"
        BeforeTargets="CollectCentralPackageVersions"
        AfterTargets="CollectPackageReferences"
        Condition="'$(ManagePackageVersionsCentrally)' == 'true' and '$(ImplicitPackageReferences)' == 'true'"
    >
    <PropertyGroup>
      <_rsgPackageReferenceList>@(PackageReference)</_rsgPackageReferenceList>
      <_rsgPackageVersionList>@(PackageVersion)</_rsgPackageVersionList>
    </PropertyGroup>
    <Warning
            Condition="'$(ImplicitPackageReferenceWarning)' == 'true' and '$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingMoq)' == 'true' and $(_rsgPackageReferenceList.Contains('Moq')) and !$(_rsgPackageVersionList.Contains('Rocket.Surgery.Extensions.Testing.Moq'))"
            Text="PackageReference to Rocket.Surgery.Extensions.Testing.Moq has been added implicitly using default version 6.0.4-magic-dependencies.48. Add &lt;PackageVersion Include=&quot;Rocket.Surgery.Extensions.Testing.Moq&quot; Version=&quot;6.0.4-magic-dependencies.48&quot; /&gt; or disable this warning with &lt;ImplicitPackageReferenceWarning&gt;false&lt;/ImplicitPackageReferenceWarning&gt;.  Use &lt;ImplicitPackageReferences&gt;false&lt;/ImplicitPackageReferences&gt; to disable all implicit package references or &lt;ImplicitPackageReferenceRocketSurgeryExtensionsTestingMoq&gt;false&lt;/ImplicitPackageReferenceRocketSurgeryExtensionsTestingMoq&gt; to disable only this implicit reference."
        />
    <ItemGroup
            Condition="'$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingMoq)' == 'true' and $(_rsgPackageReferenceList.Contains('Moq')) and !$(_rsgPackageVersionList.Contains('Rocket.Surgery.Extensions.Testing.Moq'))"
        >
      <PackageVersion Include="Rocket.Surgery.Extensions.Testing.Moq" Version="6.0.4-magic-dependencies.48" />
    </ItemGroup>
    <Warning
            Condition="'$(ImplicitPackageReferenceWarning)' == 'true' and '$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingFakeItEasy)' == 'true' and $(_rsgPackageReferenceList.Contains('FakeItEasy')) and !$(_rsgPackageVersionList.Contains('Rocket.Surgery.Extensions.Testing.FakeItEasy'))"
            Text="PackageReference to Rocket.Surgery.Extensions.Testing.FakeItEasy has been added implicitly using default version 6.0.4-magic-dependencies.48. Add &lt;PackageVersion Include=&quot;Rocket.Surgery.Extensions.Testing.FakeItEasy&quot; Version=&quot;6.0.4-magic-dependencies.48&quot; /&gt; or disable this warning with &lt;ImplicitPackageReferenceWarning&gt;false&lt;/ImplicitPackageReferenceWarning&gt;.  Use &lt;ImplicitPackageReferences&gt;false&lt;/ImplicitPackageReferences&gt; to disable all implicit package references or &lt;ImplicitPackageReferenceRocketSurgeryExtensionsTestingFakeItEasy&gt;false&lt;/ImplicitPackageReferenceRocketSurgeryExtensionsTestingFakeItEasy&gt; to disable only this implicit reference."
        />
    <ItemGroup
            Condition="'$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingFakeItEasy)' == 'true' and $(_rsgPackageReferenceList.Contains('FakeItEasy')) and !$(_rsgPackageVersionList.Contains('Rocket.Surgery.Extensions.Testing.FakeItEasy'))"
        >
      <PackageVersion Include="Rocket.Surgery.Extensions.Testing.FakeItEasy" Version="6.0.4-magic-dependencies.48" />
    </ItemGroup>
    <Warning
            Condition="'$(ImplicitPackageReferenceWarning)' == 'true' and '$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingNSubstitute)' == 'true' and $(_rsgPackageReferenceList.Contains('NSubstitute')) and !$(_rsgPackageVersionList.Contains('Rocket.Surgery.Extensions.Testing.NSubstitute'))"
            Text="PackageReference to Rocket.Surgery.Extensions.Testing.NSubstitute has been added implicitly using default version 6.0.4-magic-dependencies.48. Add &lt;PackageVersion Include=&quot;Rocket.Surgery.Extensions.Testing.NSubstitute&quot; Version=&quot;6.0.4-magic-dependencies.48&quot; /&gt; or disable this warning with &lt;ImplicitPackageReferenceWarning&gt;false&lt;/ImplicitPackageReferenceWarning&gt;.  Use &lt;ImplicitPackageReferences&gt;false&lt;/ImplicitPackageReferences&gt; to disable all implicit package references or &lt;ImplicitPackageReferenceRocketSurgeryExtensionsTestingNSubstitute&gt;false&lt;/ImplicitPackageReferenceRocketSurgeryExtensionsTestingNSubstitute&gt; to disable only this implicit reference."
        />
    <ItemGroup
            Condition="'$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingNSubstitute)' == 'true' and $(_rsgPackageReferenceList.Contains('NSubstitute')) and !$(_rsgPackageVersionList.Contains('Rocket.Surgery.Extensions.Testing.NSubstitute'))"
        >
      <PackageVersion Include="Rocket.Surgery.Extensions.Testing.NSubstitute" Version="6.0.4-magic-dependencies.48" />
    </ItemGroup>
    <Warning
            Condition="'$(ImplicitPackageReferenceWarning)' == 'true' and '$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingXUnit)' == 'true' and $(_rsgPackageReferenceList.Contains('xunit.abstractions')) and !$(_rsgPackageVersionList.Contains('Rocket.Surgery.Extensions.Testing.XUnit'))"
            Text="PackageReference to Rocket.Surgery.Extensions.Testing.XUnit has been added implicitly using default version 6.0.4-magic-dependencies.48. Add &lt;PackageVersion Include=&quot;Rocket.Surgery.Extensions.Testing.XUnit&quot; Version=&quot;6.0.4-magic-dependencies.48&quot; /&gt; or disable this warning with &lt;ImplicitPackageReferenceWarning&gt;false&lt;/ImplicitPackageReferenceWarning&gt;.  Use &lt;ImplicitPackageReferences&gt;false&lt;/ImplicitPackageReferences&gt; to disable all implicit package references or &lt;ImplicitPackageReferenceRocketSurgeryExtensionsTestingXUnit&gt;false&lt;/ImplicitPackageReferenceRocketSurgeryExtensionsTestingXUnit&gt; to disable only this implicit reference."
        />
    <ItemGroup
            Condition="'$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingXUnit)' == 'true' and $(_rsgPackageReferenceList.Contains('xunit.abstractions')) and !$(_rsgPackageVersionList.Contains('Rocket.Surgery.Extensions.Testing.XUnit'))"
        >
      <PackageVersion Include="Rocket.Surgery.Extensions.Testing.XUnit" Version="6.0.4-magic-dependencies.48" />
    </ItemGroup>
    <Warning
            Condition="'$(ImplicitPackageReferenceWarning)' == 'true' and '$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingXUnit)' == 'true' and $(_rsgPackageReferenceList.Contains('xunit')) and !$(_rsgPackageVersionList.Contains('Rocket.Surgery.Extensions.Testing.XUnit'))"
            Text="PackageReference to Rocket.Surgery.Extensions.Testing.XUnit has been added implicitly using default version 6.0.4-magic-dependencies.48. Add &lt;PackageVersion Include=&quot;Rocket.Surgery.Extensions.Testing.XUnit&quot; Version=&quot;6.0.4-magic-dependencies.48&quot; /&gt; or disable this warning with &lt;ImplicitPackageReferenceWarning&gt;false&lt;/ImplicitPackageReferenceWarning&gt;.  Use &lt;ImplicitPackageReferences&gt;false&lt;/ImplicitPackageReferences&gt; to disable all implicit package references or &lt;ImplicitPackageReferenceRocketSurgeryExtensionsTestingXUnit&gt;false&lt;/ImplicitPackageReferenceRocketSurgeryExtensionsTestingXUnit&gt; to disable only this implicit reference."
        />
    <ItemGroup
            Condition="'$(ImplicitPackageReferenceRocketSurgeryExtensionsTestingXUnit)' == 'true' and $(_rsgPackageReferenceList.Contains('xunit')) and !$(_rsgPackageVersionList.Contains('Rocket.Surgery.Extensions.Testing.XUnit'))"
        >
      <PackageVersion Include="Rocket.Surgery.Extensions.Testing.XUnit" Version="6.0.4-magic-dependencies.48" />
    </ItemGroup>
  </Target>
</Project>
